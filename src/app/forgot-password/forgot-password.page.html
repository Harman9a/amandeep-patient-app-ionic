<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <!-- <ion-back-button icon="chevron-back-outline"></ion-back-button> -->
      <ion-button (click)="goBack()">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="title"> Forgot Password</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row>
    <ion-col size="12" class="logo">
      <img src="assets/imgs/logo.png" />
    </ion-col>
  </ion-row>
  <div *ngIf="show_mobile_field">
    <ion-row class="lower-bottom">
      <ion-col size="1" class="phone-number call-icon">
        <ion-icon name="call-outline" style="font-size: 15px"></ion-icon>
      </ion-col>
      <!-- <ion-col size="2" class="dial-code">
        <ion-label>+91</ion-label>
      </ion-col> -->
      <ion-col size="9" style="margin-top: -1%">
        <ion-input
          [maxlength]="10"
          type="tel"
          (keypress)="onKeyPressNum($event)"
          placeholder="Contact Number"
          style="--padding-top: 4px"
          [(ngModel)]="mobile_no"
        ></ion-input>
      </ion-col>
    </ion-row>
    <ion-row style="margin-top: 10px">
      <ion-col>
        <ion-button
          style="
            --background: linear-gradient(to right, #c23f3a, #e80c0a);
            --padding-bottom: 10px;
            --padding-top: 10px;
            --background-activated: #e80c0a;
          "
          shape="round"
          expand="full"
          (click)="sendOtp()"
          >Get OTP
        </ion-button>
      </ion-col>
    </ion-row>
  </div>

  <div *ngIf="show_otp_field">
    <ion-row style="text-align: center; justify-content: center">
      <ng-otp-input
        (onInputChange)="automaticallyVerifyOTP($event)"
        [config]="config"
      ></ng-otp-input>
    </ion-row>

    <ion-row (click)="resendOTP()">
      <ion-col size="12" class="footer-col">
        <ion-label class="password"> Resend OTP Code </ion-label>
      </ion-col>
    </ion-row>
  </div>

  <div *ngIf="show_new_password" style="margin-top: 20px">
    <ion-item>
      <ion-label position="fixed" class="fixedLabel">New Password</ion-label>
      <ion-input
        [(ngModel)]="newPassword"
        placeholder="Enter New Password"
        [type]="showPassword"
        name="newPassword"
      >
      </ion-input>
      <ion-icon
        [name]="iconName"
        (click)="visibilitycheck()"
        style="color: #ef4135"
      ></ion-icon>
    </ion-item>
    <ion-item>
      <ion-label position="fixed" class="fixedLabel"
        >Confirm Password</ion-label
      >
      <ion-input
        [(ngModel)]="confirmPassword"
        placeholder="Confirm Password"
        [type]="showPassword"
        name="confirmPassword"
      ></ion-input>
    </ion-item>

    <ion-row style="margin-top: 20px">
      <ion-col>
        <ion-button
          style="
            --background: linear-gradient(to right, #c23f3a, #e80c0a);
            --padding-bottom: 10px;
            --padding-top: 10px;
            --background-activated: #e80c0a;
          "
          shape="round"
          expand="full"
          (click)="update_db_password()"
        >
          Change Password
        </ion-button>
      </ion-col>
    </ion-row>
  </div>
</ion-content>
